function getURLVar(t){var e=[],o=String(document.location).split("?");if(o[1]){var a=o[1].split("&");for(i=0;i<a.length;i++){var n=a[i].split("=");n[0]&&n[1]&&(e[n[0]]=n[1])}return e[t]?e[t]:""}}$(window).resize(function(){var t=$(".container").offset().left;$(".scroll_to_top").css("right",t-100+"px")}),$(document).ready(function(){$(".text-danger").each(function(){var t=$(this).parent().parent();t.hasClass("form-group")&&t.addClass("has-error")}),$("#currency .currency-select").on("click",function(t){t.preventDefault(),$("#currency input[name='code']").attr("value",$(this).attr("name")),$("#currency").submit()}),$("#language a").on("click",function(t){t.preventDefault(),$("#language input[name='code']").attr("value",$(this).attr("href")),$("#language").submit()}),$(".button-search").bind("click",function(){url=$("base").attr("href")+"index.php?route=product/search";var t=$("#search input[name='search']").val(),e=document.getElementById("search_category_id").value;(t||e)&&(url+="&search="+encodeURIComponent(t)+"&category_id="+encodeURIComponent(e)),location=url}),$("#search input[name='search']").on("keydown",function(t){13==t.keyCode&&$("#search input[name='search']").parent().find(".button-search").trigger("click")}),$("#menu >ul >li").has("li").addClass("withsubs"),$("#menu > ul > li > div > .wrapper > ul > li").has("li").addClass("hasthird"),$("#menu .menu_drop_down").each(function(){var t=$("#menu").offset(),e=$(this).parent().offset(),o=$(this).offset(),i=e.left+$(this).outerWidth()-(t.left+$("#menu").outerWidth());0<i&&$(this).css("margin-left","-"+i+"px");var a=t.left-o.left;0<a&&$(this).css("margin-right","-"+a+"px")}),$(".mobile_menu_trigger").click(function(){$(this).find(".nav-icon").toggleClass("active"),$(".mobile_menu_wrapper").toggleClass("active")}),$(".mobile_menu_wrapper").click(function(){$(".mobile_menu_trigger .nav-icon").toggleClass("active"),$(this).toggleClass("active")}).children().click(function(t){return!1}),$(".mobile_menu li").bind().click(function(t){$(this).toggleClass("open").find(">ul").stop(!0,!0).slideToggle(500).end().siblings().find(">ul").slideUp().parent().removeClass("open"),t.stopPropagation()}),$(".mobile_menu li a").click(function(t){t.stopPropagation()}),$(".breadcrumb").appendTo($(".breadcrumb")),$(".login_input").focus(function(){$(".login_drop_heading").stop(!0,!0).addClass("active")}),$(".login_input").focusout(function(){$(".login_drop_heading").stop(!0,!0).removeClass("active")}),$(".search_input").focus(function(){$("#search").stop(!0,!0).addClass("active")}),$(".search_input").focusout(function(){$("#search").stop(!0,!0).removeClass("active"),$("#ajax_search_results").hide(200)}),$("a.external").on("click",function(t){t.preventDefault(),window.open($(this).attr("href"))}),$(".product-thumb").hover(function(){$(this).find(".image-hover").stop(!0).fadeTo(600,1)},function(){$(this).find(".image-hover").stop(!0).fadeTo(300,0)}),$(".product-list .item, .product-grid .item, .item").mousemove(function(t){$(this).find(".offer_popup").stop(!0,!0).fadeIn(),$(this).find(".offer_popup").offset({top:t.pageY+50,left:t.pageX+50})}).mouseleave(function(){$(".offer_popup").fadeOut()});var t=$("#footer").offset().left;$(".scroll_to_top").css("right",t-100+"px"),$(".box-category .box-content li").bind().click(function(t){$(this).toggleClass("open").find(">ul").stop(!0,!0).slideToggle(500).end().siblings().find(">ul").slideUp().parent().removeClass("open"),t.stopPropagation()}),$(".box-category .box-content li a").click(function(t){t.stopPropagation()}),$(window).scroll(function(){50<$(this).scrollTop()?($(".fix-nav-scrollspy").addClass("fix-top"),$("#back-to-top").fadeIn()):($(".fix-nav-scrollspy").removeClass("fix-top"),$("#back-to-top").fadeOut())}),$("#back-to-top").click(function(){return $("body,html").animate({scrollTop:0},800),!1}),$(".footer_modules").has(".box").addClass("contrast"),$("[data-toggle='tooltip']").tooltip({container:"body"}),$(document).ajaxStop(function(){$("[data-toggle='tooltip']").tooltip({container:"body"})})});var cart={add:function(t,e){$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:"product_id="+t+"&quantity="+(void 0!==e?e:1),dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},success:function(t){$(".alert, .text-danger").remove(),$("#cart > button").button("reset"),t.redirect&&(location=t.redirect),t.success&&($("body").addClass("is-popup"),$.colorbox({html:'<div class="cart_notification"><div class="product clearfix"><img src="'+t.image+'"/><span>'+t.success+'</span></div><div class="bottom text-center"><a class="btn btn-secondary" href="'+t.link_cart+'">'+t.text_cart+'</a> <a class="btn btn-primary" href="'+t.link_checkout+'">'+t.text_checkout+"</a></div></div>",className:"notification",initialHeight:50,initialWidth:50,width:"90%",maxWidth:400,height:"90%",maxHeight:200}),$("#cart").load("index.php?route=common/cart/info #cart > *"),$("body").removeClass("is-popup"))}})},buy:function(t,e){$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:"product_id="+t+"&quantity="+(void 0!==e?e:1),dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(t){$(".alert, .text-danger").remove(),$("#cart > button").button("reset"),location="index.php?route=quickcheckout/checkout"},error:function(t,e,o){alert(o+"\r\n"+t.statusText+"\r\n"+t.responseText)}})},update:function(t,e){$.ajax({url:"index.php?route=checkout/cart/edit",type:"post",data:"key="+t+"&quantity="+(void 0!==e?e:1),dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},success:function(t){$("#cart > button").button("reset"),$("#cart-total").html(t.total),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":$("#cart").load("index.php?route=common/cart/info #cart > *")}})},remove:function(t){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+t,dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},success:function(t){$("#cart > button").button("reset"),$("#cart-total").html(t.total),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":$("#cart").load("index.php?route=common/cart/info #cart > *")}})}},voucher={add:function(){},remove:function(t){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+t,dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(t){$("#cart-total").html(t.total),"checkout/cart"==getURLVar("route")||"checkout/checkout"==getURLVar("route")?location="index.php?route=checkout/cart":$("#cart").load("index.php?route=common/cart/info #cart > *")}})}},wishlist={add:function(t){$.ajax({url:"index.php?route=account/wishlist/add",type:"post",data:"product_id="+t,dataType:"json",success:function(t){$(".alert").remove(),t.success&&($.colorbox({html:'<div class="cart_notification"><div class="product"><img src="'+t.image+'"/><span>'+t.success+'</span></div><div class="bottom"><a class="btn btn-primary" href="'+t.link_wishlist+'">'+t.text_wishlist+"</a></div></div>",className:"notification",initialHeight:50,initialWidth:50,width:"90%",maxWidth:400,height:"90%",maxHeight:200}),$(".shortcut.wishlist").load("index.php?route=common/header_wishlist_compare/info #header_wishlist")),t.info&&($.colorbox({html:'<div class="cart_notification"><div class="product"><img src="'+t.image+'"/><span>'+t.info+'</span></div><div class="bottom"><a class="btn btn-primary" href="'+t.link_wishlist+'">'+t.text_wishlist+"</a></div></div>",className:"notification",initialHeight:50,initialWidth:50,width:"90%",maxWidth:400,height:"90%",maxHeight:200}),$(".shortcut.wishlist").load("index.php?route=common/header_wishlist_compare/info #header_wishlist"))}})},remove:function(){}},compare={add:function(t){$.ajax({url:"index.php?route=product/compare/add",type:"post",data:"product_id="+t,dataType:"json",success:function(t){$(".alert").remove(),t.success&&($.colorbox({html:'<div class="cart_notification"><div class="product"><img src="'+t.image+'"/><span>'+t.success+'</span></div><div class="bottom"><a class="btn btn-primary" href="'+t.link_compare+'">'+t.text_compare+"</a></div></div>",className:"notification",initialHeight:50,initialWidth:50,width:"90%",maxWidth:400,height:"90%",maxHeight:200}),$("#compare-total").html(t.total),$("#header_compare").html(t.compare_total))}})},remove:function(){}};$(document).delegate(".agree","click",function(t){t.preventDefault(),$("#modal-agree").remove();var e=this;$.ajax({url:$(e).attr("href"),type:"get",dataType:"html",success:function(t){html='<div id="modal-agree" class="modal">',html+='  <div class="modal-dialog">',html+='    <div class="modal-content">',html+='      <div class="modal-header">',html+='        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>',html+='        <h4 class="modal-title">'+$(e).text()+"</h4>",html+="      </div>",html+='      <div class="modal-body">'+t+"</div>",html+="    </div",html+="  </div>",html+="</div>",$("body").append(html),$("#modal-agree").modal("show")}})}),function(o){o.fn.autocomplete=function(t){return this.each(function(){this.timer=null,this.items=new Array,o.extend(this,t),o(this).attr("autocomplete","off"),o(this).on("focus",function(){this.request()}),o(this).on("blur",function(){setTimeout(function(t){t.hide()},200,this)}),o(this).on("keydown",function(t){switch(t.keyCode){case 27:this.hide();break;default:this.request()}}),this.click=function(t){t.preventDefault(),value=o(t.target).parent().attr("data-value"),value&&this.items[value]&&this.select(this.items[value])},this.show=function(){var t=o(this).position();o(this).siblings("ul.dropdown-menu").css({top:t.top+o(this).outerHeight(),left:t.left}),o(this).siblings("ul.dropdown-menu").show()},this.hide=function(){o(this).siblings("ul.dropdown-menu").hide()},this.request=function(){clearTimeout(this.timer),this.timer=setTimeout(function(t){t.source(o(t).val(),o.proxy(t.response,t))},200,this)},this.response=function(t){if(html="",t.length){for(i=0;i<t.length;i++)this.items[t[i].value]=t[i];for(i=0;i<t.length;i++)t[i].category||(html+='<li data-value="'+t[i].value+'"><a href="#">'+t[i].label+"</a></li>");var e=new Array;for(i=0;i<t.length;i++)t[i].category&&(e[t[i].category]||(e[t[i].category]=new Array,e[t[i].category].name=t[i].category,e[t[i].category].item=new Array),e[t[i].category].item.push(t[i]));for(i in e)for(html+='<li class="dropdown-header">'+e[i].name+"</li>",j=0;j<e[i].item.length;j++)html+='<li data-value="'+e[i].item[j].value+'"><a href="#">&nbsp;&nbsp;&nbsp;'+e[i].item[j].label+"</a></li>"}html?this.show():this.hide(),o(this).siblings("ul.dropdown-menu").html(html)},o(this).after('<ul class="dropdown-menu"></ul>'),o(this).siblings("ul.dropdown-menu").delegate("a","click",o.proxy(this.click,this))})}}(window.jQuery);