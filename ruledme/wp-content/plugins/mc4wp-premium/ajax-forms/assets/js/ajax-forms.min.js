!function i(s,a,c){function u(e,t){if(!a[e]){if(!s[e]){var r=!1;if(!t&&r)return r(e,!0);if(l)return l(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[e]={exports:{}};s[e][0].call(o.exports,function(t){return u(s[e][1][t]||t)},o,o.exports,i,s,a,c)}return a[e].exports}for(var l=!1,t=0;t<c.length;t++)u(c[t]);return u}({1:[function(t,e,r){"use strict";function n(t){return t.innerHTML?t.innerHTML:t.value}function o(t,e){t.innerHTML?t.innerHTML=e:t.value=e}function i(t){this.form=t,this.button=t.querySelector('input[type="submit"], button[type="submit"]'),this.loadingInterval=0,this.character="Â·",this.button&&(this.originalButton=this.button.cloneNode(!0))}i.prototype.setCharacter=function(t){this.character=t},i.prototype.start=function(){if(this.button){var t=this.button.getAttribute("data-loading-text");if(t)return void o(this.button,t);var e=window.getComputedStyle(this.button);this.button.style.width=e.width,o(this.button,this.character),this.loadingInterval=window.setInterval(this.tick.bind(this),500)}else this.form.style.opacity="0.5";this.form.classList&&this.form.classList.add("mc4wp-loading")},i.prototype.tick=function(){var t=n(this.button),e=this.character;o(this.button,5<=t.length?e:t+" "+e)},i.prototype.stop=function(){if(this.button){this.button.style.width=this.originalButton.style.width;var t=n(this.originalButton);o(this.button,t),window.clearInterval(this.loadingInterval)}else this.form.style.opacity="";this.form.className=this.form.className.replace("mc4wp-loading","")},e.exports=i},{}],2:[function(n,t,e){(function(t){"use strict";var e=n("./_form-loader.js"),s=window.mc4wp_ajax_vars,a=!1;function r(n){var o=new e(n.element),t=s.loading_character;function i(t,e){window.mc4wp.forms.trigger(t,e),window.mc4wp.forms.trigger(e[0].id+"."+t,e)}t&&o.setCharacter(t),a||(n.setResponse(""),o.start(),function(){a=!0;var r=new XMLHttpRequest;r.onreadystatechange=function(){var t=r;if(4<=t.readyState)if(o.stop(),a=!1,200<=t.status&&t.status<400){var e;try{e=JSON.parse(t.responseText)}catch(t){return console.log('Mailchimp for WordPress: failed to parse AJAX response.\n\nError: "'+t+'"'),void n.setResponse('<div class="mc4wp-alert mc4wp-error"><p>'+s.error_text+"</p></div>")}!function(t){if(i("submitted",[n,null]),t.error)n.setResponse(t.error.message),i("error",[n,t.error.errors]);else{var e=n.getData();i("success",[n,e]),i(t.data.event,[n,e]),"updated_subscriber"===t.data.event&&i("subscribed",[n,e,!0]),t.data.hide_fields&&(n.element.querySelector(".mc4wp-form-fields").style.display="none"),n.setResponse(t.data.message),n.element.reset(),t.data.redirect_to&&(window.location.href=t.data.redirect_to)}}(e)}else console.log(t.responseText)},r.open("POST",s.ajax_url,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.setRequestHeader("Accept","application/json"),r.send(n.getSerializedData())}())}s.inited||(window.mc4wp.forms.on("submit",function(t,e){if(!(t.element.getAttribute("class").indexOf("mc4wp-ajax")<0)){document.activeElement&&"INPUT"===document.activeElement.tagName&&document.activeElement.blur();try{r(t)}catch(t){return console.error(t),!0}return e.returnValue=!1,e.preventDefault(),!1}}),s.inited=!0)}).call(this,n("_process"))},{"./_form-loader.js":1,_process:3}],3:[function(t,e,r){"use strict";var n,o,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var u,l=[],f=!1,h=-1;function d(){f&&u&&(f=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!f){var t=c(d);f=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function w(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new m(t,e)),1!==l.length||f||c(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=w,i.addListener=w,i.once=w,i.off=w,i.removeListener=w,i.removeAllListeners=w,i.emit=w,i.prependListener=w,i.prependOnceListener=w,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}]},{},[2]);
//# sourceMappingURL=ajax-forms.min.js.map
